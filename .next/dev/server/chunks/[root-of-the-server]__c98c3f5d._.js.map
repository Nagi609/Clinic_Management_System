{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\r\n\r\nexport const prisma =\r\n  globalForPrisma.prisma ||\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\r\n  })\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\r\n\r\nexport default prisma\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEF,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/app/api/clinic-contacts/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport prisma from '@/lib/db'\r\n\r\n// GET all clinic contacts for the current user\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n    }\r\n\r\n    const clinicContacts = await prisma.clinicContact.findMany({\r\n      where: { userId },\r\n      orderBy: { createdAt: 'desc' }\r\n    })\r\n\r\n    return NextResponse.json({ clinicContacts })\r\n  } catch (error) {\r\n    console.error('Get clinic contacts error:', error)\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}\r\n\r\n// POST - Create a new clinic contact\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { name, icon, link, notes } = await request.json()\r\n\r\n    if (!name || !icon || !link) {\r\n      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 })\r\n    }\r\n\r\n    const clinicContact = await prisma.clinicContact.create({\r\n      data: {\r\n        name,\r\n        icon,\r\n        link,\r\n        notes,\r\n        userId\r\n      }\r\n    })\r\n\r\n    return NextResponse.json({ clinicContact }, { status: 201 })\r\n  } catch (error) {\r\n    console.error('Create clinic contact error:', error)\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}\r\n\r\n// PUT - Update a clinic contact\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { id, name, icon, link, notes } = await request.json()\r\n    if (!id) return NextResponse.json({ error: 'Clinic contact ID required' }, { status: 400 })\r\n\r\n    const clinicContact = await prisma.clinicContact.findUnique({ where: { id } })\r\n    if (!clinicContact || clinicContact.userId !== userId) {\r\n      return NextResponse.json({ error: 'Clinic contact not found or unauthorized' }, { status: 404 })\r\n    }\r\n\r\n    const updatedClinicContact = await prisma.clinicContact.update({\r\n      where: { id },\r\n      data: {\r\n        name: name ?? clinicContact.name,\r\n        icon: icon ?? clinicContact.icon,\r\n        link: link ?? clinicContact.link,\r\n        notes: notes ?? clinicContact.notes\r\n      }\r\n    })\r\n\r\n    return NextResponse.json({ clinicContact: updatedClinicContact })\r\n  } catch (error) {\r\n    console.error('Update clinic contact error:', error)\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}\r\n\r\n// DELETE - Delete a clinic contact\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { id } = await request.json()\r\n    if (!id) return NextResponse.json({ error: 'Clinic contact ID required' }, { status: 400 })\r\n\r\n    const clinicContact = await prisma.clinicContact.findUnique({ where: { id } })\r\n    if (!clinicContact || clinicContact.userId !== userId) {\r\n      return NextResponse.json({ error: 'Clinic contact not found or unauthorized' }, { status: 404 })\r\n    }\r\n\r\n    await prisma.clinicContact.delete({ where: { id } })\r\n\r\n    return NextResponse.json({ success: true })\r\n  } catch (error) {\r\n    console.error('Delete clinic contact error:', error)\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}