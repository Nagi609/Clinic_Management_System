{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/amy%20gee/Desktop/Clinic_Management_System/backend/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\r\n\r\nexport const prisma =\r\n  globalForPrisma.prisma ||\r\n  new PrismaClient({\r\n    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\r\n  })\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\r\n\r\nexport default prisma\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEF,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/amy%20gee/Desktop/Clinic_Management_System/app/api/patients/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport prisma from '@/lib/db'\r\n\r\n// ======= Validation Helpers =======\r\nconst validateNameField = (name: string): boolean =>\r\n  !!name?.trim() && /^[a-zA-Z\\s]*$/.test(name.trim())\r\n\r\nconst validatePhone = (phone: string): boolean =>\r\n  typeof phone === 'string' && /^09\\d{9}$/.test(phone)\r\n\r\nconst validateIdNumber = (idNumber: string): boolean =>\r\n  typeof idNumber === 'string' && /^[a-zA-Z0-9-]+$/.test(idNumber)\r\n\r\nconst parseAttachments = (attachments: any) => {\r\n  if (!attachments) return null\r\n  try {\r\n    return JSON.stringify(attachments)\r\n  } catch {\r\n    return null\r\n  }\r\n}\r\n\r\n// ======= GET - All patients =======\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const patients = await prisma.patient.findMany({\r\n      where: { userId },\r\n      orderBy: { createdAt: 'desc' },\r\n    })\r\n\r\n    return NextResponse.json({ patients })\r\n  } catch (error) {\r\n    console.error('Get patients error:', error)\r\n    return NextResponse.json({ error: 'Failed to fetch patients' }, { status: 500 })\r\n  }\r\n}\r\n\r\n// ======= POST - Create patient =======\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const data = await request.json()\r\n\r\n    // Parse numeric fields\r\n    data.yearLevel = data.yearLevel ? parseInt(data.yearLevel) : null\r\n    data.block = data.block ? parseInt(data.block) : null\r\n\r\n    const errors: string[] = []\r\n\r\n    // ===== Basic validations =====\r\n    if (!validateNameField(data.firstName)) errors.push('First name is required and must be letters only')\r\n    if (data.middleName && !validateNameField(data.middleName)) errors.push('Middle name must contain letters only')\r\n    if (!validateNameField(data.lastName)) errors.push('Last name is required and must be letters only')\r\n    if (data.suffix && !validateNameField(data.suffix)) errors.push('Suffix must contain letters only')\r\n\r\n    if (!data.dateOfBirth) errors.push('Date of birth is required')\r\n    if (isNaN(Date.parse(data.dateOfBirth))) errors.push('Invalid date of birth')\r\n\r\n    if (!data.gender) errors.push('Gender is required')\r\n    if (!validatePhone(data.phone)) errors.push('Phone must start with 09 and be exactly 11 digits')\r\n\r\n    if (!data.role || !['student', 'teaching_staff', 'non_teaching_staff'].includes(data.role))\r\n      errors.push('Valid role is required')\r\n\r\n    if (!validateIdNumber(data.idNumber)) errors.push('Valid ID number is required')\r\n\r\n    // ===== Role-specific =====\r\n    if (data.role === 'student') {\r\n      if (!['CICT', 'CBME'].includes(data.program)) errors.push('Valid program is required for students')\r\n      if (!data.course) errors.push('Course is required for students')\r\n      if (!data.yearLevel || data.yearLevel < 1 || data.yearLevel > 4) errors.push('Year level must be 1–4')\r\n      if (data.block && (data.block < 1 || data.block > 5)) errors.push('Block must be 1–5')\r\n    }\r\n\r\n    if (data.role === 'teaching_staff') {\r\n      if (!['CICT', 'CBME'].includes(data.department)) errors.push('Valid department is required')\r\n    }\r\n\r\n    if (data.role === 'non_teaching_staff') {\r\n      if (!data.staffCategory) errors.push('Staff category is required')\r\n    }\r\n\r\n    // ===== Emergency contact =====\r\n    if (!data.primaryContactName?.trim()) errors.push('Primary contact name is required')\r\n    if (!data.primaryContactRelationship?.trim()) errors.push('Primary contact relationship is required')\r\n    if (!validatePhone(data.primaryContactPhone)) errors.push('Primary contact phone is invalid')\r\n\r\n    if (errors.length > 0) return NextResponse.json({ errors }, { status: 400 })\r\n\r\n    // ===== CREATE =====\r\n    const patient = await prisma.patient.create({\r\n      data: {\r\n        ...data,\r\n        dateOfBirth: new Date(data.dateOfBirth).toISOString(), // ✅ fixed for Prisma string\r\n        middleName: data.middleName || null,\r\n        suffix: data.suffix || null,\r\n        email: data.email || null,\r\n        address: data.address || null,\r\n        program: data.role === 'student' ? data.program : null,\r\n        course: data.role === 'student' ? data.course : null,\r\n        yearLevel: data.role === 'student' ? data.yearLevel : null,\r\n        block: data.role === 'student' ? data.block : null,\r\n        department: data.role === 'teaching_staff' ? data.department : null,\r\n        staffCategory: data.role === 'non_teaching_staff' ? data.staffCategory : null,\r\n        pastIllnesses: data.pastIllnesses || null,\r\n        surgeries: data.surgeries || null,\r\n        currentMedication: data.currentMedication || null,\r\n        allergies: data.allergies || null,\r\n        medicalNotes: data.medicalNotes || null,\r\n        primaryContactAddress: data.primaryContactAddress || null,\r\n        secondaryContactName: data.secondaryContactName || null,\r\n        secondaryContactRelationship: data.secondaryContactRelationship || null,\r\n        secondaryContactPhone: data.secondaryContactPhone || null,\r\n        secondaryContactAddress: data.secondaryContactAddress || null,\r\n        attachments: parseAttachments(data.attachments),\r\n        userId,\r\n      },\r\n    })\r\n\r\n    return NextResponse.json({ patient }, { status: 201 })\r\n  } catch (error: any) {\r\n    console.error('Create patient error:', error)\r\n    return NextResponse.json({ error: 'Failed to save patient', details: error.message }, { status: 500 })\r\n  }\r\n}\r\n\r\n// ======= PUT - Update patient =======\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const data = await request.json()\r\n    const { id, ...updateData } = data\r\n\r\n    // Parse numeric fields\r\n    updateData.yearLevel = updateData.yearLevel ? parseInt(updateData.yearLevel) : null\r\n    updateData.block = updateData.block ? parseInt(updateData.block) : null\r\n\r\n    const errors: string[] = []\r\n\r\n    if (!id) return NextResponse.json({ error: 'Patient ID is required' }, { status: 400 })\r\n\r\n    // ===== Basic validations =====\r\n    if (!validateNameField(updateData.firstName)) errors.push('First name is required and must be letters only')\r\n    if (updateData.middleName && !validateNameField(updateData.middleName)) errors.push('Middle name must contain letters only')\r\n    if (!validateNameField(updateData.lastName)) errors.push('Last name is required and must be letters only')\r\n    if (updateData.suffix && !validateNameField(updateData.suffix)) errors.push('Suffix must contain letters only')\r\n\r\n    if (!updateData.dateOfBirth) errors.push('Date of birth is required')\r\n    if (isNaN(Date.parse(updateData.dateOfBirth))) errors.push('Invalid date of birth')\r\n\r\n    if (!updateData.gender) errors.push('Gender is required')\r\n    if (!validatePhone(updateData.phone)) errors.push('Phone must start with 09 and be exactly 11 digits')\r\n\r\n    if (!updateData.role || !['student', 'teaching_staff', 'non_teaching_staff'].includes(updateData.role))\r\n      errors.push('Valid role is required')\r\n\r\n    if (!validateIdNumber(updateData.idNumber)) errors.push('Valid ID number is required')\r\n\r\n    // ===== Role-specific =====\r\n    if (updateData.role === 'student') {\r\n      if (!['CICT', 'CBME'].includes(updateData.program)) errors.push('Valid program is required for students')\r\n      if (!updateData.course) errors.push('Course is required for students')\r\n      if (!updateData.yearLevel || updateData.yearLevel < 1 || updateData.yearLevel > 4) errors.push('Year level must be 1–4')\r\n      if (updateData.block && (updateData.block < 1 || updateData.block > 5)) errors.push('Block must be 1–5')\r\n    }\r\n\r\n    if (updateData.role === 'teaching_staff') {\r\n      if (!['CICT', 'CBME'].includes(updateData.department)) errors.push('Valid department is required')\r\n    }\r\n\r\n    if (updateData.role === 'non_teaching_staff') {\r\n      if (!updateData.staffCategory) errors.push('Staff category is required')\r\n    }\r\n\r\n    // ===== Emergency contact =====\r\n    if (!updateData.primaryContactName?.trim()) errors.push('Primary contact name is required')\r\n    if (!updateData.primaryContactRelationship?.trim()) errors.push('Primary contact relationship is required')\r\n    if (!validatePhone(updateData.primaryContactPhone)) errors.push('Primary contact phone is invalid')\r\n\r\n    if (errors.length > 0) return NextResponse.json({ errors }, { status: 400 })\r\n\r\n    // ===== UPDATE =====\r\n    const patient = await prisma.patient.update({\r\n      where: { id, userId },\r\n      data: {\r\n        ...updateData,\r\n        dateOfBirth: new Date(updateData.dateOfBirth).toISOString(), // ✅ fixed\r\n        middleName: updateData.middleName || null,\r\n        suffix: updateData.suffix || null,\r\n        email: updateData.email || null,\r\n        address: updateData.address || null,\r\n        program: updateData.role === 'student' ? updateData.program : null,\r\n        course: updateData.role === 'student' ? updateData.course : null,\r\n        yearLevel: updateData.role === 'student' ? updateData.yearLevel : null,\r\n        block: updateData.role === 'student' ? updateData.block : null,\r\n        department: updateData.role === 'teaching_staff' ? updateData.department : null,\r\n        staffCategory: updateData.role === 'non_teaching_staff' ? updateData.staffCategory : null,\r\n        pastIllnesses: updateData.pastIllnesses || null,\r\n        surgeries: updateData.surgeries || null,\r\n        currentMedication: updateData.currentMedication || null,\r\n        allergies: updateData.allergies || null,\r\n        medicalNotes: updateData.medicalNotes || null,\r\n        primaryContactAddress: updateData.primaryContactAddress || null,\r\n        secondaryContactName: updateData.secondaryContactName || null,\r\n        secondaryContactRelationship: updateData.secondaryContactRelationship || null,\r\n        secondaryContactPhone: updateData.secondaryContactPhone || null,\r\n        secondaryContactAddress: updateData.secondaryContactAddress || null,\r\n        attachments: parseAttachments(updateData.attachments),\r\n      },\r\n    })\r\n\r\n    return NextResponse.json({ patient })\r\n  } catch (error: any) {\r\n    console.error('Update patient error:', error)\r\n    return NextResponse.json({ error: 'Failed to update patient', details: error.message }, { status: 500 })\r\n  }\r\n}\r\n\r\n// ======= DELETE - Delete patient =======\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const userId = request.headers.get('x-user-id')\r\n    if (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n\r\n    const { id } = await request.json()\r\n    if (!id) return NextResponse.json({ error: 'Patient ID is required' }, { status: 400 })\r\n\r\n    await prisma.patient.delete({ where: { id, userId } })\r\n    return NextResponse.json({ message: 'Patient deleted successfully' })\r\n  } catch (error: any) {\r\n    console.error('Delete patient error:', error)\r\n    return NextResponse.json({ error: 'Failed to delete patient', details: error.message }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}