{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname, useRouter } from \"next/navigation\"\nimport { Grid3x3, Users, FileText, Phone } from \"lucide-react\"\n\nexport function Sidebar() {\n  const pathname = usePathname()\n\n  const navItems = [\n    { href: \"/dashboard\", label: \"Dashboard\", icon: Grid3x3 },\n    { href: \"/patients\", label: \"Patients\", icon: Users },\n    { href: \"/visit-records\", label: \"Visit Records\", icon: FileText },\n    { href: \"/contacts\", label: \"Contacts\", icon: Phone },\n  ]\n\n  return (\n    <aside className=\"w-64 bg-white border-r border-gray-200 p-6 flex flex-col h-screen\">\n      <div className=\"mb-8\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"w-10 h-10 bg-[#8B3A3A] rounded-lg flex items-center justify-center text-white font-bold\">\n            +\n          </div>\n          <div>\n            <h1 className=\"font-bold text-[#8B3A3A] text-lg\">SorSU Clinic</h1>\n            <p className=\"text-xs text-gray-500\">BULAN CAMPUS</p>\n          </div>\n        </div>\n      </div>\n\n      <nav className=\"space-y-2 flex-1\">\n        <p className=\"text-sm font-medium text-gray-400 px-4 mb-4\">Navigation</p>\n        {navItems.map((item) => {\n          const Icon = item.icon\n          const isActive = pathname === item.href\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\n                isActive ? \"bg-[#8B3A3A] text-white\" : \"text-gray-700 hover:bg-gray-100\"\n              }`}\n            >\n              <Icon size={20} />\n              <span>{item.label}</span>\n            </Link>\n          )\n        })}\n      </nav>\n    </aside>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,WAAW,IAAA,gRAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,2SAAO;QAAC;QACxD;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM,iSAAK;QAAC;QACpD;YAAE,MAAM;YAAkB,OAAO;YAAiB,MAAM,8SAAQ;QAAC;QACjE;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM,iSAAK;QAAC;KACrD;IAED,qBACE,6WAAC;QAAM,WAAU;;0BACf,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;sCAA0F;;;;;;sCAGzG,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6WAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;0BAK3C,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAE,WAAU;kCAA8C;;;;;;oBAC1D,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,OAAO,KAAK,IAAI;wBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;wBACvC,qBACE,6WAAC,sSAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,+DAA+D,EACzE,WAAW,4BAA4B,mCACvC;;8CAEF,6WAAC;oCAAK,MAAM;;;;;;8CACZ,6WAAC;8CAAM,KAAK,KAAK;;;;;;;2BAPZ,KAAK,IAAI;;;;;oBAUpB;;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport { User } from \"lucide-react\"\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\"\n\nexport function Header() {\n  const [profileOpen, setProfileOpen] = useState(false)\n  const router = useRouter()\n\n  const handleSignOut = () => {\n    localStorage.removeItem(\"user\")\n    localStorage.removeItem(\"patients\")\n    localStorage.removeItem(\"visits\")\n    localStorage.removeItem(\"clinicContacts\")\n    router.push(\"/login\")\n  }\n\n  return (\n    <header className=\"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between\">\n      <div className=\"flex-1\"></div>\n\n      <div className=\"flex items-center gap-6\">\n        <div className=\"relative\">\n          <button\n            onClick={() => setProfileOpen(!profileOpen)}\n            className=\"w-10 h-10 bg-[#8B3A3A] rounded-full flex items-center justify-center text-white font-bold hover:bg-[#6D2E2E]\"\n          >\n            <User size={20} />\n          </button>\n          {profileOpen && (\n            <div className=\"absolute right-0 top-12 bg-white border border-gray-200 rounded-lg shadow-lg w-48\">\n              <Link href=\"/profile\" className=\"block px-4 py-2 hover:bg-gray-50 border-b\">\n                My Profile\n              </Link>\n              <button onClick={handleSignOut} className=\"w-full text-left px-4 py-2 hover:bg-gray-50 text-red-600\">\n                Sign Out\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,SAAS,IAAA,8QAAS;IAExB,MAAM,gBAAgB;QACpB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6WAAC;QAAO,WAAU;;0BAChB,6WAAC;gBAAI,WAAU;;;;;;0BAEf,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BACC,SAAS,IAAM,eAAe,CAAC;4BAC/B,WAAU;sCAEV,cAAA,6WAAC,8RAAI;gCAAC,MAAM;;;;;;;;;;;wBAEb,6BACC,6WAAC;4BAAI,WAAU;;8CACb,6WAAC,sSAAI;oCAAC,MAAK;oCAAW,WAAU;8CAA4C;;;;;;8CAG5E,6WAAC;oCAAO,SAAS;oCAAe,WAAU;8CAA2D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnH"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/components/layout-wrapper.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Sidebar } from \"./sidebar\"\nimport { Header } from \"./header\"\n\nexport function LayoutWrapper({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      <Sidebar />\n      <div className=\"flex-1 flex flex-col\">\n        <Header />\n        <main className=\"flex-1 overflow-y-auto p-8\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC,iIAAO;;;;;0BACR,6WAAC;gBAAI,WAAU;;kCACb,6WAAC,+HAAM;;;;;kCACP,6WAAC;wBAAK,WAAU;kCAA8B;;;;;;;;;;;;;;;;;;AAItD"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/marienel/Downloads/clinic-management-system/app/%28dashboard%29/visit-records/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect, useRef } from \"react\"\nimport { LayoutWrapper } from \"@/components/layout-wrapper\"\nimport { Plus, Search, Calendar, User, FileText, X, Edit2, Trash2 } from \"lucide-react\"\nimport { getCurrentUser, checkPermission } from \"@/lib/constants\"\nimport { logActivity } from \"@/lib/utils\"\n\ninterface Patient {\n  id: string\n  name: string\n}\n\ninterface VisitRecord {\n  id: string\n  patientId?: string\n  patientName: string\n  visitDate: string\n  reason: string\n  symptoms: string\n  treatment: string\n  notes?: string\n}\n\nexport default function VisitRecordsPage() {\n  const [visits, setVisits] = useState<VisitRecord[]>([])\n  const [patients, setPatients] = useState<Patient[]>([])\n  const [patientSuggestions, setPatientSuggestions] = useState<Patient[]>([])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [sortBy, setSortBy] = useState(\"date\")\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [newVisit, setNewVisit] = useState<Partial<VisitRecord>>({\n    patientName: \"\",\n    visitDate: new Date().toISOString().split(\"T\")[0],\n    reason: \"\",\n    symptoms: \"\",\n    treatment: \"\",\n    notes: \"\",\n  })\n  const [formErrors, setFormErrors] = useState<string[]>([])\n  const [user, setUser] = useState<any>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const suggestionRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const currentUser = getCurrentUser()\n    if (currentUser) setUser(currentUser)\n  }, [])\n\n  useEffect(() => {\n    if (user) {\n      fetchVisits()\n    }\n  }, [user])\n\n  // ------------------- FETCH VISITS -------------------\n  const fetchVisits = async () => {\n    if (!user) return\n    try {\n      setIsLoading(true)\n      const response = await fetch(\"/api/visits\", {\n        headers: { \"x-user-id\": user.id },\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setVisits(\n          data.visits?.map((v: any) => ({\n            id: v.id,\n            patientId: v.patientId,\n            patientName: v.Patient\n              ? `${v.Patient.firstName} ${v.Patient.middleName ?? \"\"} ${v.Patient.lastName}${v.Patient.suffix ? \" \" + v.Patient.suffix : \"\"}`.trim()\n              : v.visitorName || \"Unknown Patient\",\n            visitDate: v.visitDate,\n            reason: v.reason,\n            symptoms: v.symptoms,\n            treatment: v.treatment,\n            notes: v.notes || \"\",\n          })) || []\n        )\n      }\n    } catch (error) {\n      console.error(\"Error fetching visits:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const canManageVisits = user && checkPermission(user.role, \"canManagePatients\")\n\n  // ------------------- PATIENT AUTOCOMPLETE -------------------\n  useEffect(() => {\n    if (!newVisit.patientName) {\n      setPatientSuggestions([])\n      return\n    }\n    const delayDebounce = setTimeout(async () => {\n      try {\n        const res = await fetch(`/api/patients?search=${encodeURIComponent(newVisit.patientName)}`, {\n          headers: { \"x-user-id\": user.id },\n        })\n        if (res.ok) {\n          const data = await res.json()\n          const suggestions: Patient[] = data.patients.map((p: any) => ({\n            id: p.id,\n            name: `${p.firstName} ${p.middleName ?? \"\"} ${p.lastName}${p.suffix ? \" \" + p.suffix : \"\"}`.trim(),\n          }))\n          setPatientSuggestions(suggestions)\n        }\n      } catch (err) {\n        console.error(\"Error fetching patient suggestions:\", err)\n      }\n    }, 300) // debounce 300ms\n    return () => clearTimeout(delayDebounce)\n  }, [newVisit.patientName])\n\n  const handleSelectPatient = (patient: Patient) => {\n    setNewVisit({ ...newVisit, patientId: patient.id, patientName: patient.name })\n    setPatientSuggestions([])\n  }\n\n  // ------------------- ADD / UPDATE VISIT -------------------\n  const handleAddVisit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!canManageVisits || isSubmitting) return\n\n    setIsSubmitting(true)\n    const errors: string[] = []\n\n    if (!newVisit.patientId?.trim()) errors.push(\"Patient selection is required\")\n    if (!newVisit.visitDate) errors.push(\"Visit date is required\")\n    if (!newVisit.reason?.trim()) errors.push(\"Reason for visit is required\")\n    if (!newVisit.symptoms?.trim()) errors.push(\"Symptoms description is required\")\n    if (!newVisit.treatment?.trim()) errors.push(\"Treatment information is required\")\n\n    if (errors.length > 0) {\n      setFormErrors(errors)\n      setIsSubmitting(false)\n      return\n    }\n\n    try {\n      if (editingId) {\n        // Update\n        const res = await fetch(\"/api/visits\", {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\", \"x-user-id\": user.id },\n          body: JSON.stringify({\n            id: editingId,\n            patientId: newVisit.patientId,\n            visitDate: newVisit.visitDate,\n            reason: newVisit.reason,\n            symptoms: newVisit.symptoms,\n            treatment: newVisit.treatment,\n            notes: newVisit.notes,\n          }),\n        })\n        if (!res.ok) {\n          const err = await res.json()\n          setFormErrors([err.error || \"Failed to update visit\"])\n          return\n        }\n      } else {\n        // Create\n        const res = await fetch(\"/api/visits\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\", \"x-user-id\": user.id },\n          body: JSON.stringify({\n            patientId: newVisit.patientId,\n            visitDate: newVisit.visitDate,\n            reason: newVisit.reason,\n            symptoms: newVisit.symptoms,\n            treatment: newVisit.treatment,\n            notes: newVisit.notes,\n          }),\n        })\n        if (!res.ok) {\n          const err = await res.json()\n          setFormErrors([err.error || \"Failed to save visit\"])\n          return\n        }\n      }\n\n      await fetchVisits()\n      setShowAddForm(false)\n      setEditingId(null)\n      setNewVisit({\n        patientName: \"\",\n        visitDate: new Date().toISOString().split(\"T\")[0],\n        reason: \"\",\n        symptoms: \"\",\n        treatment: \"\",\n        notes: \"\",\n      })\n      setFormErrors([])\n    } catch (err) {\n      console.error(\"Error saving visit:\", err)\n      setFormErrors([\"Failed to save visit.\"])\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  // ------------------- EDIT / DELETE -------------------\n  const handleEditVisit = (visit: VisitRecord) => {\n    if (!canManageVisits) return\n    setEditingId(visit.id)\n    setNewVisit({ ...visit })\n    setShowAddForm(true)\n  }\n\n  const handleDeleteVisit = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this visit record?\")) return\n    try {\n      const res = await fetch(\"/api/visits\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\", \"x-user-id\": user.id },\n        body: JSON.stringify({ id }),\n      })\n      if (res.ok) await fetchVisits()\n    } catch (err) {\n      console.error(\"Error deleting visit:\", err)\n    }\n  }\n\n  // ------------------- FILTER / SORT -------------------\n  const filteredVisits = visits\n    .filter(\n      (v) =>\n        v.patientName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        v.reason.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n    .sort((a, b) => {\n      if (sortBy === \"date\") return new Date(b.visitDate).getTime() - new Date(a.visitDate).getTime()\n      if (sortBy === \"patient\") return a.patientName.localeCompare(b.patientName)\n      if (sortBy === \"reason\") return a.reason.localeCompare(b.reason)\n      return 0\n    })\n\n  return (\n    <LayoutWrapper>\n      <div className=\"space-y-6\">\n        {/* Header & Add Button */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-[#8B3A3A]\">Visit Records</h1>\n            <p className=\"text-gray-600\">Log and manage clinic visits</p>\n          </div>\n          {canManageVisits && (\n            <button\n              onClick={() => {\n                setShowAddForm(true)\n                setEditingId(null)\n                setNewVisit({\n                  patientName: \"\",\n                  visitDate: new Date().toISOString().split(\"T\")[0],\n                  reason: \"\",\n                  symptoms: \"\",\n                  treatment: \"\",\n                  notes: \"\",\n                })\n              }}\n              className=\"bg-[#8B3A3A] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#6D2E2E] transition-colors flex items-center gap-2\"\n            >\n              <Plus size={20} /> New Visit\n            </button>\n          )}\n        </div>\n\n        {/* Add Form */}\n        {showAddForm && canManageVisits && (\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-bold text-[#8B3A3A]\">\n                {editingId ? \"Edit Visit Record\" : \"New Visit Record\"}\n              </h2>\n              <button\n                onClick={() => {\n                  setShowAddForm(false)\n                  setEditingId(null)\n                  setFormErrors([])\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n\n            {formErrors.length > 0 && (\n              <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <ul className=\"list-disc list-inside text-red-600\">\n                  {formErrors.map((err, idx) => (\n                    <li key={idx}>{err}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            <form onSubmit={handleAddVisit} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Patient Name *\n                </label>\n                <input\n                  type=\"text\"\n                  value={newVisit.patientName || \"\"}\n                  onChange={(e) =>\n                    setNewVisit({ ...newVisit, patientName: e.target.value, patientId: \"\" })\n                  }\n                  placeholder=\"Enter patient name\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n                {/* Suggestions */}\n                {patientSuggestions.length > 0 && (\n                  <div\n                    ref={suggestionRef}\n                    className=\"absolute z-50 bg-white border border-gray-300 w-full mt-1 rounded-md shadow-md max-h-60 overflow-y-auto\"\n                  >\n                    {patientSuggestions.map((p) => (\n                      <div\n                        key={p.id}\n                        onClick={() => handleSelectPatient(p)}\n                        className=\"px-3 py-2 hover:bg-[#8B3A3A] hover:text-white cursor-pointer\"\n                      >\n                        {p.name}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Visit Date */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Visit Date *\n                </label>\n                <input\n                  type=\"date\"\n                  value={newVisit.visitDate || \"\"}\n                  onChange={(e) => setNewVisit({ ...newVisit, visitDate: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n              </div>\n\n              {/* Reason */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Reason for Visit *\n                </label>\n                <input\n                  type=\"text\"\n                  value={newVisit.reason || \"\"}\n                  onChange={(e) => setNewVisit({ ...newVisit, reason: e.target.value })}\n                  placeholder=\"e.g., Check-up, Follow-up, Emergency\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n              </div>\n\n              {/* Symptoms */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Symptoms *\n                </label>\n                <textarea\n                  value={newVisit.symptoms || \"\"}\n                  onChange={(e) => setNewVisit({ ...newVisit, symptoms: e.target.value })}\n                  rows={3}\n                  placeholder=\"Describe the patient's symptoms...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n              </div>\n\n              {/* Treatment */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Treatment *\n                </label>\n                <textarea\n                  value={newVisit.treatment || \"\"}\n                  onChange={(e) => setNewVisit({ ...newVisit, treatment: e.target.value })}\n                  rows={3}\n                  placeholder=\"Describe the treatment provided...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n              </div>\n\n              {/* Notes */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Notes (Optional)\n                </label>\n                <textarea\n                  value={newVisit.notes || \"\"}\n                  onChange={(e) => setNewVisit({ ...newVisit, notes: e.target.value })}\n                  rows={2}\n                  placeholder=\"Any additional notes...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                />\n              </div>\n\n              {/* Buttons */}\n              <div className=\"flex gap-3 justify-end pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowAddForm(false)\n                    setEditingId(null)\n                    setFormErrors([])\n                  }}\n                  className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"px-6 py-2 bg-[#8B3A3A] text-white rounded-lg font-semibold hover:bg-[#6D2E2E] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isSubmitting ? \"Saving...\" : editingId ? \"Update Visit\" : \"Save Visit\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {/* Search & Sort */}\n        <div className=\"bg-[#8B3A3A] rounded-xl p-6 flex gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-4 top-3 text-white opacity-60\" size={20} />\n            <input\n              type=\"text\"\n              placeholder=\"Search by patient name or reason...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-12 pr-4 py-2 bg-white/20 text-white placeholder-white/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-white\"\n            />\n          </div>\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value)}\n            className=\"bg-white text-[#8B3A3A] px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white font-medium cursor-pointer\"\n          >\n            <option value=\"date\">Sort by Date</option>\n            <option value=\"patient\">Sort by Patient</option>\n            <option value=\"reason\">Sort by Reason</option>\n          </select>\n        </div>\n\n        {/* Visit List */}\n        <div className=\"space-y-4\">\n          {filteredVisits.length > 0 ? (\n            filteredVisits.map((visit) => (\n              <div\n                key={visit.id}\n                className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\n              >\n                <div className=\"bg-[#8B3A3A] text-white p-6 flex justify-between items-start\">\n                  <div>\n                    <h3 className=\"text-xl font-bold\">{visit.patientName}</h3>\n                    <p className=\"text-sm\">{visit.visitDate}</p>\n                  </div>\n                  {canManageVisits && (\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => handleEditVisit(visit)}>\n                        <Edit2 size={18} className=\"hover:text-gray-200\" />\n                      </button>\n                      <button onClick={() => handleDeleteVisit(visit.id)}>\n                        <Trash2 size={18} className=\"hover:text-gray-200\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n                <div className=\"p-6 space-y-2\">\n                  <p>\n                    <span className=\"font-semibold\">Reason:</span> {visit.reason}\n                  </p>\n                  <p>\n                    <span className=\"font-semibold\">Symptoms:</span> {visit.symptoms}\n                  </p>\n                  <p>\n                    <span className=\"font-semibold\">Treatment:</span> {visit.treatment}\n                  </p>\n                  {visit.notes && (\n                    <p>\n                      <span className=\"font-semibold\">Notes:</span> {visit.notes}\n                    </p>\n                  )}\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"text-gray-500 text-center py-6\">No visit records found.</p>\n          )}\n        </div>\n      </div>\n    </LayoutWrapper>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;;;;;;AAyBe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,gVAAQ,EAAY,EAAE;IAC1E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gVAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAgB;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAuB;QAC7D,aAAa;QACb,WAAW,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACjD,QAAQ;QACR,UAAU;QACV,WAAW;QACX,OAAO;IACT;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gVAAQ,EAAW,EAAE;IACzD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAM;IACtC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;IAEjD,MAAM,gBAAgB,IAAA,8UAAM,EAAiB;IAE7C,IAAA,iVAAS,EAAC;QACR,MAAM,cAAc,IAAA,kIAAc;QAClC,IAAI,aAAa,QAAQ;IAC3B,GAAG,EAAE;IAEL,IAAA,iVAAS,EAAC;QACR,IAAI,MAAM;YACR;QACF;IACF,GAAG;QAAC;KAAK;IAET,uDAAuD;IACvD,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM;QACX,IAAI;YACF,aAAa;YACb,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,SAAS;oBAAE,aAAa,KAAK,EAAE;gBAAC;YAClC;YACA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,UACE,KAAK,MAAM,EAAE,IAAI,CAAC,IAAW,CAAC;wBAC5B,IAAI,EAAE,EAAE;wBACR,WAAW,EAAE,SAAS;wBACtB,aAAa,EAAE,OAAO,GAClB,GAAG,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,UAAU,IAAI,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,MAAM,GAAG,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,KAClI,EAAE,WAAW,IAAI;wBACrB,WAAW,EAAE,SAAS;wBACtB,QAAQ,EAAE,MAAM;wBAChB,UAAU,EAAE,QAAQ;wBACpB,WAAW,EAAE,SAAS;wBACtB,OAAO,EAAE,KAAK,IAAI;oBACpB,CAAC,MAAM,EAAE;YAEb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,kBAAkB,QAAQ,IAAA,mIAAe,EAAC,KAAK,IAAI,EAAE;IAE3D,+DAA+D;IAC/D,IAAA,iVAAS,EAAC;QACR,IAAI,CAAC,SAAS,WAAW,EAAE;YACzB,sBAAsB,EAAE;YACxB;QACF;QACA,MAAM,gBAAgB,WAAW;YAC/B,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,qBAAqB,EAAE,mBAAmB,SAAS,WAAW,GAAG,EAAE;oBAC1F,SAAS;wBAAE,aAAa,KAAK,EAAE;oBAAC;gBAClC;gBACA,IAAI,IAAI,EAAE,EAAE;oBACV,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,MAAM,cAAyB,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAW,CAAC;4BAC5D,IAAI,EAAE,EAAE;4BACR,MAAM,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,UAAU,IAAI,GAAG,CAAC,EAAE,EAAE,QAAQ,GAAG,EAAE,MAAM,GAAG,MAAM,EAAE,MAAM,GAAG,IAAI,CAAC,IAAI;wBAClG,CAAC;oBACD,sBAAsB;gBACxB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,uCAAuC;YACvD;QACF,GAAG,KAAK,iBAAiB;;QACzB,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC,SAAS,WAAW;KAAC;IAEzB,MAAM,sBAAsB,CAAC;QAC3B,YAAY;YAAE,GAAG,QAAQ;YAAE,WAAW,QAAQ,EAAE;YAAE,aAAa,QAAQ,IAAI;QAAC;QAC5E,sBAAsB,EAAE;IAC1B;IAEA,6DAA6D;IAC7D,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,IAAI,CAAC,mBAAmB,cAAc;QAEtC,gBAAgB;QAChB,MAAM,SAAmB,EAAE;QAE3B,IAAI,CAAC,SAAS,SAAS,EAAE,QAAQ,OAAO,IAAI,CAAC;QAC7C,IAAI,CAAC,SAAS,SAAS,EAAE,OAAO,IAAI,CAAC;QACrC,IAAI,CAAC,SAAS,MAAM,EAAE,QAAQ,OAAO,IAAI,CAAC;QAC1C,IAAI,CAAC,SAAS,QAAQ,EAAE,QAAQ,OAAO,IAAI,CAAC;QAC5C,IAAI,CAAC,SAAS,SAAS,EAAE,QAAQ,OAAO,IAAI,CAAC;QAE7C,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,cAAc;YACd,gBAAgB;YAChB;QACF;QAEA,IAAI;YACF,IAAI,WAAW;gBACb,SAAS;gBACT,MAAM,MAAM,MAAM,MAAM,eAAe;oBACrC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,aAAa,KAAK,EAAE;oBAAC;oBACpE,MAAM,KAAK,SAAS,CAAC;wBACnB,IAAI;wBACJ,WAAW,SAAS,SAAS;wBAC7B,WAAW,SAAS,SAAS;wBAC7B,QAAQ,SAAS,MAAM;wBACvB,UAAU,SAAS,QAAQ;wBAC3B,WAAW,SAAS,SAAS;wBAC7B,OAAO,SAAS,KAAK;oBACvB;gBACF;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,MAAM,MAAM,IAAI,IAAI;oBAC1B,cAAc;wBAAC,IAAI,KAAK,IAAI;qBAAyB;oBACrD;gBACF;YACF,OAAO;gBACL,SAAS;gBACT,MAAM,MAAM,MAAM,MAAM,eAAe;oBACrC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,aAAa,KAAK,EAAE;oBAAC;oBACpE,MAAM,KAAK,SAAS,CAAC;wBACnB,WAAW,SAAS,SAAS;wBAC7B,WAAW,SAAS,SAAS;wBAC7B,QAAQ,SAAS,MAAM;wBACvB,UAAU,SAAS,QAAQ;wBAC3B,WAAW,SAAS,SAAS;wBAC7B,OAAO,SAAS,KAAK;oBACvB;gBACF;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,MAAM,MAAM,IAAI,IAAI;oBAC1B,cAAc;wBAAC,IAAI,KAAK,IAAI;qBAAuB;oBACnD;gBACF;YACF;YAEA,MAAM;YACN,eAAe;YACf,aAAa;YACb,YAAY;gBACV,aAAa;gBACb,WAAW,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBACjD,QAAQ;gBACR,UAAU;gBACV,WAAW;gBACX,OAAO;YACT;YACA,cAAc,EAAE;QAClB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,uBAAuB;YACrC,cAAc;gBAAC;aAAwB;QACzC,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,wDAAwD;IACxD,MAAM,kBAAkB,CAAC;QACvB,IAAI,CAAC,iBAAiB;QACtB,aAAa,MAAM,EAAE;QACrB,YAAY;YAAE,GAAG,KAAK;QAAC;QACvB,eAAe;IACjB;IAEA,MAAM,oBAAoB,OAAO;QAC/B,IAAI,CAAC,QAAQ,uDAAuD;QACpE,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,eAAe;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBAAoB,aAAa,KAAK,EAAE;gBAAC;gBACpE,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAG;YAC5B;YACA,IAAI,IAAI,EAAE,EAAE,MAAM;QACpB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,wDAAwD;IACxD,MAAM,iBAAiB,OACpB,MAAM,CACL,CAAC,IACC,EAAE,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OAC3D,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,KAEzD,IAAI,CAAC,CAAC,GAAG;QACR,IAAI,WAAW,QAAQ,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;QAC7F,IAAI,WAAW,WAAW,OAAO,EAAE,WAAW,CAAC,aAAa,CAAC,EAAE,WAAW;QAC1E,IAAI,WAAW,UAAU,OAAO,EAAE,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM;QAC/D,OAAO;IACT;IAEF,qBACE,6WAAC,iJAAa;kBACZ,cAAA,6WAAC;YAAI,WAAU;;8BAEb,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;8CAAoC;;;;;;8CAClD,6WAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;wBAE9B,iCACC,6WAAC;4BACC,SAAS;gCACP,eAAe;gCACf,aAAa;gCACb,YAAY;oCACV,aAAa;oCACb,WAAW,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oCACjD,QAAQ;oCACR,UAAU;oCACV,WAAW;oCACX,OAAO;gCACT;4BACF;4BACA,WAAU;;8CAEV,6WAAC,8RAAI;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;;gBAMvB,eAAe,iCACd,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAG,WAAU;8CACX,YAAY,sBAAsB;;;;;;8CAErC,6WAAC;oCACC,SAAS;wCACP,eAAe;wCACf,aAAa;wCACb,cAAc,EAAE;oCAClB;oCACA,WAAU;8CAEV,cAAA,6WAAC,qRAAC;wCAAC,MAAM;;;;;;;;;;;;;;;;;wBAIZ,WAAW,MAAM,GAAG,mBACnB,6WAAC;4BAAI,WAAU;sCACb,cAAA,6WAAC;gCAAG,WAAU;0CACX,WAAW,GAAG,CAAC,CAAC,KAAK,oBACpB,6WAAC;kDAAc;uCAAN;;;;;;;;;;;;;;;sCAMjB,6WAAC;4BAAK,UAAU;4BAAgB,WAAU;;8CACxC,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,MAAK;4CACL,OAAO,SAAS,WAAW,IAAI;4CAC/B,UAAU,CAAC,IACT,YAAY;oDAAE,GAAG,QAAQ;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oDAAE,WAAW;gDAAG;4CAExE,aAAY;4CACZ,WAAU;;;;;;wCAGX,mBAAmB,MAAM,GAAG,mBAC3B,6WAAC;4CACC,KAAK;4CACL,WAAU;sDAET,mBAAmB,GAAG,CAAC,CAAC,kBACvB,6WAAC;oDAEC,SAAS,IAAM,oBAAoB;oDACnC,WAAU;8DAET,EAAE,IAAI;mDAJF,EAAE,EAAE;;;;;;;;;;;;;;;;8CAYnB,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,MAAK;4CACL,OAAO,SAAS,SAAS,IAAI;4CAC7B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAC;4CACtE,WAAU;;;;;;;;;;;;8CAKd,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,MAAK;4CACL,OAAO,SAAS,MAAM,IAAI;4CAC1B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gDAAC;4CACnE,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAKd,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,OAAO,SAAS,QAAQ,IAAI;4CAC5B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAC;4CACrE,MAAM;4CACN,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAKd,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,OAAO,SAAS,SAAS,IAAI;4CAC7B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAC;4CACtE,MAAM;4CACN,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAKd,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6WAAC;4CACC,OAAO,SAAS,KAAK,IAAI;4CACzB,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAClE,MAAM;4CACN,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAKd,6WAAC;oCAAI,WAAU;;sDACb,6WAAC;4CACC,MAAK;4CACL,SAAS;gDACP,eAAe;gDACf,aAAa;gDACb,cAAc,EAAE;4CAClB;4CACA,WAAU;sDACX;;;;;;sDAGD,6WAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAU;sDAET,eAAe,cAAc,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;8BAQrE,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;;8CACb,6WAAC,oSAAM;oCAAC,WAAU;oCAA8C,MAAM;;;;;;8CACtE,6WAAC;oCACC,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;;;;;;;;;;;;sCAGd,6WAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4BACzC,WAAU;;8CAEV,6WAAC;oCAAO,OAAM;8CAAO;;;;;;8CACrB,6WAAC;oCAAO,OAAM;8CAAU;;;;;;8CACxB,6WAAC;oCAAO,OAAM;8CAAS;;;;;;;;;;;;;;;;;;8BAK3B,6WAAC;oBAAI,WAAU;8BACZ,eAAe,MAAM,GAAG,IACvB,eAAe,GAAG,CAAC,CAAC,sBAClB,6WAAC;4BAEC,WAAU;;8CAEV,6WAAC;oCAAI,WAAU;;sDACb,6WAAC;;8DACC,6WAAC;oDAAG,WAAU;8DAAqB,MAAM,WAAW;;;;;;8DACpD,6WAAC;oDAAE,WAAU;8DAAW,MAAM,SAAS;;;;;;;;;;;;wCAExC,iCACC,6WAAC;4CAAI,WAAU;;8DACb,6WAAC;oDAAO,SAAS,IAAM,gBAAgB;8DACrC,cAAA,6WAAC,+RAAK;wDAAC,MAAM;wDAAI,WAAU;;;;;;;;;;;8DAE7B,6WAAC;oDAAO,SAAS,IAAM,kBAAkB,MAAM,EAAE;8DAC/C,cAAA,6WAAC,wSAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;8CAKpC,6WAAC;oCAAI,WAAU;;sDACb,6WAAC;;8DACC,6WAAC;oDAAK,WAAU;8DAAgB;;;;;;gDAAc;gDAAE,MAAM,MAAM;;;;;;;sDAE9D,6WAAC;;8DACC,6WAAC;oDAAK,WAAU;8DAAgB;;;;;;gDAAgB;gDAAE,MAAM,QAAQ;;;;;;;sDAElE,6WAAC;;8DACC,6WAAC;oDAAK,WAAU;8DAAgB;;;;;;gDAAiB;gDAAE,MAAM,SAAS;;;;;;;wCAEnE,MAAM,KAAK,kBACV,6WAAC;;8DACC,6WAAC;oDAAK,WAAU;8DAAgB;;;;;;gDAAa;gDAAE,MAAM,KAAK;;;;;;;;;;;;;;2BA/B3D,MAAM,EAAE;;;;kDAsCjB,6WAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;;;;;;;;;;;AAM1D"}}]
}