{"version":3,"sources":["../../../../app/%28dashboard%29/patients/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { LayoutWrapper } from \"@/components/layout-wrapper\"\nimport { Search, Plus, Edit2, X } from \"lucide-react\"\nimport { useState, useEffect } from \"react\"\nimport { getCurrentUser, checkPermission } from \"@/lib/constants\"\nimport { logActivity } from \"@/lib/utils\"\n\n// Type definitions\ntype PatientRole = \"student\" | \"teaching_staff\" | \"non_teaching_staff\"\ntype Program = \"CICT\" | \"CBME\"\ntype StudentCourse = \"BSIT\" | \"BSCS\" | \"BSIS\" | \"BTVTED\"\ntype CBMECourse = \"BSA\" | \"BSAIS\" | \"BPA\" | \"BSE\"\ntype NonTeachingCategory = \"Administrative\" | \"Security\" | \"Maintenance\" | \"Support\" | \"Clinic\"\n\ninterface Patient {\n  id: string\n  firstName: string\n  middleName?: string\n  lastName: string\n  suffix?: string\n  dateOfBirth: string\n  gender: \"Male\" | \"Female\"\n  phone: string\n  email?: string\n  address?: string\n  role: PatientRole\n  idNumber: string\n  program?: Program\n  course?: StudentCourse | CBMECourse\n  yearLevel?: number\n  block?: number\n  department?: Program\n  staffCategory?: NonTeachingCategory\n  // Medical History\n  pastIllnesses?: string\n  surgeries?: string\n  currentMedication?: string\n  allergies?: string\n  medicalNotes?: string\n  // Emergency Contacts\n  primaryContactName?: string\n  primaryContactRelationship?: string\n  primaryContactPhone?: string\n  primaryContactAddress?: string\n  secondaryContactName?: string\n  secondaryContactRelationship?: string\n  secondaryContactPhone?: string\n  secondaryContactAddress?: string\n  attachments?: string\n}\n\ninterface FormData {\n  firstName: string\n  middleName: string\n  lastName: string\n  suffix: string\n  dateOfBirth: string\n  gender: \"Male\" | \"Female\"\n  phone: string\n  email: string\n  address: string\n  role: PatientRole\n  idNumber: string\n  program: Program | \"\"\n  course: string\n  yearLevel: number | \"\"\n  block: number | \"\"\n  department: Program | \"\"\n  staffCategory: NonTeachingCategory | \"\"\n  // Medical History\n  pastIllnesses: string\n  surgeries: string\n  currentMedication: string\n  allergies: string\n  medicalNotes: string\n  // Emergency Contacts\n  primaryContactName: string\n  primaryContactRelationship: string\n  primaryContactPhone: string\n  primaryContactAddress: string\n  secondaryContactName: string\n  secondaryContactRelationship: string\n  secondaryContactPhone: string\n  secondaryContactAddress: string\n}\n\nconst COURSE_OPTIONS: Record<Program, string[]> = {\n  CICT: [\"BSIT\", \"BSCS\", \"BSIS\", \"BTVTED\"],\n  CBME: [\"BSA\", \"BSAIS\", \"BPA\", \"BSE\"],\n}\n\nconst getRoleDisplay = (role: PatientRole): string => {\n  switch (role) {\n    case \"student\":\n      return \"student\"\n    case \"teaching_staff\":\n      return \"teaching staff\"\n    case \"non_teaching_staff\":\n      return \"non-teaching staff\"\n  }\n}\n\nexport default function PatientsPage() {\n  const [patients, setPatients] = useState<Patient[]>([])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [roleFilter, setRoleFilter] = useState(\"all\")\n  const [sortOption, setSortOption] = useState(\"name_az\")\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [formErrors, setFormErrors] = useState<string[]>([])\n  const [user, setUser] = useState<any>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [availableCourses, setAvailableCourses] = useState<string[]>([])\n\n  const [formData, setFormData] = useState<FormData>({\n    firstName: \"\",\n    middleName: \"\",\n    lastName: \"\",\n    suffix: \"\",\n    dateOfBirth: \"\",\n    gender: \"Male\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    role: \"student\",\n    idNumber: \"\",\n    program: \"CICT\",\n    course: \"\",\n    yearLevel: \"\",\n    block: \"\",\n    department: \"\",\n    staffCategory: \"\",\n    // Medical History\n    pastIllnesses: \"\",\n    surgeries: \"\",\n    currentMedication: \"\",\n    allergies: \"\",\n    medicalNotes: \"\",\n    // Emergency Contacts\n    primaryContactName: \"\",\n    primaryContactRelationship: \"\",\n    primaryContactPhone: \"\",\n    primaryContactAddress: \"\",\n    secondaryContactName: \"\",\n    secondaryContactRelationship: \"\",\n    secondaryContactPhone: \"\",\n    secondaryContactAddress: \"\",\n  })\n\n  useEffect(() => {\n    const currentUser = getCurrentUser()\n    if (currentUser) setUser(currentUser)\n  }, [])\n\n  useEffect(() => {\n    if (user) fetchPatients()\n  }, [user])\n\n  useEffect(() => {\n    // Update available courses when program changes\n    if (formData.program && formData.program in COURSE_OPTIONS) {\n      setAvailableCourses(COURSE_OPTIONS[formData.program])\n      // Reset course if it's not available in the new program\n      if (!COURSE_OPTIONS[formData.program].includes(formData.course)) {\n        setFormData((prev) => ({ ...prev, course: \"\" }))\n      }\n    }\n  }, [formData.program])\n\n  const fetchPatients = async () => {\n    if (!user) return\n    try {\n      setIsLoading(true)\n      const response = await fetch(\"/api/patients\", {\n        headers: { \"x-user-id\": user.id },\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setPatients(data.patients || [])\n      }\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const canManagePatients = user && checkPermission(user.role, \"canManagePatients\")\n  const canEditPatients = user && checkPermission(user.role, \"canEditPatients\")\n\n  const getFullName = (patient: Patient): string => {\n    const name = [patient.firstName, patient.middleName, patient.lastName]\n      .filter(Boolean)\n      .join(\" \")\n    return patient.suffix ? `${name} ${patient.suffix}` : name\n  }\n\n  const getDisplayName = (patient: Patient): string => {\n    const middleInitial = patient.middleName ? `${patient.middleName.charAt(0)}. ` : \"\"\n    const suffix = patient.suffix ? ` ${patient.suffix}` : \"\"\n    return `${patient.lastName}, ${patient.firstName} ${middleInitial}${suffix}`.trim()\n  }\n\n  const getCourseDisplay = (patient: Patient): string => {\n    if (patient.role !== \"student\" || !patient.course || !patient.yearLevel) return \"\"\n    \n    const courseInitials = patient.course.match(/[A-Z]/g)?.join(\"\") || patient.course\n    const block = patient.block ? ` - ${patient.block}` : \"\"\n    return `(${courseInitials} ${patient.yearLevel}${block})`\n  }\n\n  const filteredAndSortedPatients = patients\n    .filter((p) =>\n      getFullName(p).toLowerCase().includes(searchTerm.toLowerCase()) ||\n      p.idNumber.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n    .filter((p) => roleFilter === \"all\" || p.role === roleFilter)\n    .sort((a, b) => {\n      if (sortOption === \"name_az\") {\n        return getFullName(a).localeCompare(getFullName(b))\n      } else if (sortOption === \"name_za\") {\n        return getFullName(b).localeCompare(getFullName(a))\n      } else if (sortOption === \"id_asc\") {\n        return a.idNumber.localeCompare(b.idNumber)\n      } else if (sortOption === \"id_desc\") {\n        return b.idNumber.localeCompare(a.idNumber)\n      }\n      return 0\n    })\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({ ...prev, [name]: value }))\n  }\n\n  const handleAddPatient = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!canManagePatients || isSubmitting) return\n\n    setIsSubmitting(true)\n\n    const errors: string[] = []\n\n    // Validate name fields (only letters)\n    if (!formData.firstName.trim()) {\n      errors.push(\"First name is required\")\n    } else if (!/^[a-zA-Z\\s]*$/.test(formData.firstName)) {\n      errors.push(\"First name can only contain letters\")\n    }\n\n    if (formData.middleName && !/^[a-zA-Z\\s]*$/.test(formData.middleName)) {\n      errors.push(\"Middle name can only contain letters\")\n    }\n\n    if (!formData.lastName.trim()) {\n      errors.push(\"Last name is required\")\n    } else if (!/^[a-zA-Z\\s]*$/.test(formData.lastName)) {\n      errors.push(\"Last name can only contain letters\")\n    }\n\n    if (formData.suffix && !/^[a-zA-Z\\s]*$/.test(formData.suffix)) {\n      errors.push(\"Suffix can only contain letters\")\n    }\n\n    if (!formData.dateOfBirth) {\n      errors.push(\"Date of birth is required\")\n    }\n\n    if (!formData.phone) {\n      errors.push(\"Contact number is required\")\n    } else if (!/^09\\d{9}$/.test(formData.phone)) {\n      errors.push(\"Phone must start with 09 and be exactly 11 digits\")\n    }\n\n    if (!formData.idNumber.trim()) {\n      errors.push(\"ID number is required\")\n    } else if (!/^[a-zA-Z0-9-]+$/.test(formData.idNumber)) {\n      errors.push(\"ID number can only contain letters, numbers, and dashes\")\n    }\n\n    // Validate role-specific fields\n    if (formData.role === \"student\") {\n      if (!formData.program) {\n        errors.push(\"Program is required for students\")\n      }\n      if (!formData.course) {\n        errors.push(\"Course is required for students\")\n      }\n      if (!formData.yearLevel) {\n        errors.push(\"Year level is required for students\")\n      }\n      if (!formData.block) {\n        errors.push(\"Block is required for students\")\n      }\n    }\n\n    if (formData.role === \"teaching_staff\") {\n      if (!formData.department) {\n        errors.push(\"Program is required for teaching staff\")\n      }\n    }\n\n    if (formData.role === \"non_teaching_staff\") {\n      if (!formData.staffCategory) {\n        errors.push(\"Category is required for non-teaching staff\")\n      }\n    }\n\n    // Validate primary emergency contact (required)\n    if (!formData.primaryContactName.trim()) {\n      errors.push(\"Primary contact name is required\")\n    }\n    if (!formData.primaryContactRelationship.trim()) {\n      errors.push(\"Primary contact relationship is required\")\n    }\n    if (!formData.primaryContactPhone.trim()) {\n      errors.push(\"Primary contact phone number is required\")\n    } else if (!/^09\\d{9}$/.test(formData.primaryContactPhone)) {\n      errors.push(\"Primary contact phone must start with 09 and be exactly 11 digits\")\n    }\n\n    if (errors.length > 0) {\n      setFormErrors(errors)\n      return\n    }\n\n    try {\n      const payload = {\n        firstName: formData.firstName,\n        middleName: formData.middleName || undefined,\n        lastName: formData.lastName,\n        suffix: formData.suffix || undefined,\n        dateOfBirth: formData.dateOfBirth,\n        gender: formData.gender,\n        phone: formData.phone,\n        email: formData.email || undefined,\n        address: formData.address || undefined,\n        role: formData.role,\n        idNumber: formData.idNumber,\n        ...(formData.role === \"student\" && {\n          program: formData.program,\n          course: formData.course,\n          yearLevel: parseInt(formData.yearLevel as unknown as string),\n          block: parseInt(formData.block as unknown as string),\n        }),\n        ...(formData.role === \"teaching_staff\" && {\n          department: formData.department,\n        }),\n        ...(formData.role === \"non_teaching_staff\" && {\n          staffCategory: formData.staffCategory,\n        }),\n        // Medical History\n        pastIllnesses: formData.pastIllnesses || undefined,\n        surgeries: formData.surgeries || undefined,\n        currentMedication: formData.currentMedication || undefined,\n        allergies: formData.allergies || undefined,\n        medicalNotes: formData.medicalNotes || undefined,\n        // Emergency Contacts\n        primaryContactName: formData.primaryContactName || undefined,\n        primaryContactRelationship: formData.primaryContactRelationship || undefined,\n        primaryContactPhone: formData.primaryContactPhone || undefined,\n        primaryContactAddress: formData.primaryContactAddress || undefined,\n        secondaryContactName: formData.secondaryContactName || undefined,\n        secondaryContactRelationship: formData.secondaryContactRelationship || undefined,\n        secondaryContactPhone: formData.secondaryContactPhone || undefined,\n        secondaryContactAddress: formData.secondaryContactAddress || undefined,\n      }\n\n      const method = editingId ? \"PUT\" : \"POST\"\n      const body = editingId ? { id: editingId, ...payload } : payload\n\n      const response = await fetch(\"/api/patients\", {\n        method,\n        headers: { \"Content-Type\": \"application/json\", \"x-user-id\": user.id },\n        body: JSON.stringify(body),\n      })\n\n      const result = await response.json()\n\n      if (response.ok) {\n        logActivity(\n          \"patient\",\n          editingId\n            ? `Updated patient: ${getFullName(result.patient)}`\n            : `Added new patient: ${getFullName(result.patient)}`\n        )\n        await fetchPatients()\n        handleCancelEdit()\n      } else if (result.errors) {\n        setFormErrors(result.errors)\n      } else {\n        setFormErrors([\"Failed to save patient. Please try again.\"])\n      }\n    } catch (error) {\n      console.error(\"Error saving patient:\", error)\n      setFormErrors([\"Failed to save patient. Please try again.\"])\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleEditPatient = (patient: Patient) => {\n    if (!canEditPatients) return\n    setEditingId(patient.id)\n    setFormData({\n      firstName: patient.firstName,\n      middleName: patient.middleName || \"\",\n      lastName: patient.lastName,\n      suffix: patient.suffix || \"\",\n      dateOfBirth: patient.dateOfBirth,\n      gender: patient.gender,\n      phone: patient.phone,\n      email: patient.email || \"\",\n      address: patient.address || \"\",\n      role: patient.role,\n      idNumber: patient.idNumber,\n      program: patient.program || \"CICT\",\n      course: patient.course || \"\",\n      yearLevel: patient.yearLevel || \"\",\n      block: patient.block || \"\",\n      department: patient.department || \"\",\n      staffCategory: patient.staffCategory || \"\",\n      // Medical History\n      pastIllnesses: patient.pastIllnesses || \"\",\n      surgeries: patient.surgeries || \"\",\n      currentMedication: patient.currentMedication || \"\",\n      allergies: patient.allergies || \"\",\n      medicalNotes: patient.medicalNotes || \"\",\n      // Emergency Contacts\n      primaryContactName: patient.primaryContactName || \"\",\n      primaryContactRelationship: patient.primaryContactRelationship || \"\",\n      primaryContactPhone: patient.primaryContactPhone || \"\",\n      primaryContactAddress: patient.primaryContactAddress || \"\",\n      secondaryContactName: patient.secondaryContactName || \"\",\n      secondaryContactRelationship: patient.secondaryContactRelationship || \"\",\n      secondaryContactPhone: patient.secondaryContactPhone || \"\",\n      secondaryContactAddress: patient.secondaryContactAddress || \"\",\n    })\n    if (patient.program) {\n      setAvailableCourses(COURSE_OPTIONS[patient.program])\n    }\n    setShowAddForm(true)\n    setFormErrors([])\n  }\n\n  const handleCancelEdit = () => {\n    setEditingId(null)\n    setFormData({\n      firstName: \"\",\n      middleName: \"\",\n      lastName: \"\",\n      suffix: \"\",\n      dateOfBirth: \"\",\n      gender: \"Male\",\n      phone: \"\",\n      email: \"\",\n      address: \"\",\n      role: \"student\",\n      idNumber: \"\",\n      program: \"CICT\",\n      course: \"\",\n      yearLevel: \"\",\n      block: \"\",\n      department: \"\",\n      staffCategory: \"\",\n      // Medical History\n      pastIllnesses: \"\",\n      surgeries: \"\",\n      currentMedication: \"\",\n      allergies: \"\",\n      medicalNotes: \"\",\n      // Emergency Contacts\n      primaryContactName: \"\",\n      primaryContactRelationship: \"\",\n      primaryContactPhone: \"\",\n      primaryContactAddress: \"\",\n      secondaryContactName: \"\",\n      secondaryContactRelationship: \"\",\n      secondaryContactPhone: \"\",\n      secondaryContactAddress: \"\",\n    })\n    setAvailableCourses(COURSE_OPTIONS.CICT)\n    setFormErrors([])\n    setShowAddForm(false)\n  }\n\n  const handleDeletePatient = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this patient?\")) return\n    try {\n      const response = await fetch(\"/api/patients\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\", \"x-user-id\": user.id },\n        body: JSON.stringify({ id }),\n      })\n      if (response.ok) await fetchPatients()\n    } catch (error) {\n      console.error(\"Error deleting patient:\", error)\n    }\n  }\n\n  return (\n    <LayoutWrapper>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-[#8B3A3A]\">Patients</h1>\n            <p className=\"text-gray-600\">Manage school community member records</p>\n          </div>\n          {canManagePatients && (\n            <button\n              onClick={() => {\n                setShowAddForm(true)\n                setEditingId(null)\n                setFormData({\n                  firstName: \"\",\n                  middleName: \"\",\n                  lastName: \"\",\n                  suffix: \"\",\n                  dateOfBirth: \"\",\n                  gender: \"Male\",\n                  phone: \"\",\n                  email: \"\",\n                  address: \"\",\n                  role: \"student\",\n                  idNumber: \"\",\n                  program: \"CICT\",\n                  course: \"\",\n                  yearLevel: \"\",\n                  block: \"\",\n                  department: \"\",\n                  staffCategory: \"\",\n                  // Medical History\n                  pastIllnesses: \"\",\n                  surgeries: \"\",\n                  currentMedication: \"\",\n                  allergies: \"\",\n                  medicalNotes: \"\",\n                  // Emergency Contacts\n                  primaryContactName: \"\",\n                  primaryContactRelationship: \"\",\n                  primaryContactPhone: \"\",\n                  primaryContactAddress: \"\",\n                  secondaryContactName: \"\",\n                  secondaryContactRelationship: \"\",\n                  secondaryContactPhone: \"\",\n                  secondaryContactAddress: \"\",\n                })\n                setAvailableCourses(COURSE_OPTIONS.CICT)\n              }}\n              className=\"bg-[#8B3A3A] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#6D2E2E] flex items-center gap-2\"\n            >\n              <Plus size={20} /> Add Patient\n            </button>\n          )}\n        </div>\n\n        {/* Search Bar */}\n        <div className=\"bg-[#8B3A3A] rounded-xl p-6\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-4 top-3 text-white opacity-60\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Search by name or ID number...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-12 pr-4 py-2 bg-white/20 text-white placeholder-white/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-white\"\n              />\n            </div>\n\n            <select\n              value={roleFilter}\n              onChange={(e) => setRoleFilter(e.target.value)}\n              className=\"bg-white text-[#8B3A3A] px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white font-medium cursor-pointer text-sm\"\n            >\n              <option value=\"all\">All Patients</option>\n              <option value=\"student\">Student</option>\n              <option value=\"teaching_staff\">Teaching Staff</option>\n              <option value=\"non_teaching_staff\">Non-teaching Staff</option>\n            </select>\n\n            <select\n              value={sortOption}\n              onChange={(e) => setSortOption(e.target.value)}\n              className=\"bg-white text-[#8B3A3A] px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white font-medium cursor-pointer text-sm\"\n            >\n              <option value=\"name_az\">Name: A-Z</option>\n              <option value=\"name_za\">Name: Z-A</option>\n              <option value=\"id_asc\">ID No: Ascending</option>\n              <option value=\"id_desc\">ID No: Descending</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Add / Edit Form */}\n        {showAddForm && canManagePatients && (\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold\">{editingId ? \"Edit Patient\" : \"Add New Patient\"}</h2>\n              <button onClick={handleCancelEdit} className=\"text-gray-500 hover:text-gray-700\">\n                <X size={24} />\n              </button>\n            </div>\n\n            {formErrors.length > 0 && (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n                <h3 className=\"font-semibold text-red-800 mb-2\">Please fix the following errors:</h3>\n                <ul className=\"list-disc list-inside space-y-1\">\n                  {formErrors.map((error, i) => (\n                    <li key={i} className=\"text-red-600 text-sm\">\n                      {error}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            <form onSubmit={handleAddPatient} className=\"space-y-8\">\n              {/* PERSONAL INFORMATION SECTION */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-[#8B3A3A]\">\n                  Personal Information\n                </h3>\n\n                {/* Name Fields */}\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">\n                      First Name <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"firstName\"\n                      value={formData.firstName}\n                      onChange={handleInputChange}\n                      placeholder=\"Letters only\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Middle Name (Optional)</label>\n                    <input\n                      type=\"text\"\n                      name=\"middleName\"\n                      value={formData.middleName}\n                      onChange={handleInputChange}\n                      placeholder=\"Letters only\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">\n                      Last Name <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"lastName\"\n                      value={formData.lastName}\n                      onChange={handleInputChange}\n                      placeholder=\"Letters only\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Suffix (Optional)</label>\n                    <input\n                      type=\"text\"\n                      name=\"suffix\"\n                      value={formData.suffix}\n                      onChange={handleInputChange}\n                      placeholder=\"e.g., Jr., Sr.\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n\n                {/* Gender & Date of Birth */}\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">\n                      Gender <span className=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      name=\"gender\"\n                      value={formData.gender}\n                      onChange={handleInputChange}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    >\n                      <option value=\"Male\">Male</option>\n                      <option value=\"Female\">Female</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">\n                      Date of Birth <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"date\"\n                      name=\"dateOfBirth\"\n                      value={formData.dateOfBirth}\n                      onChange={handleInputChange}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n\n                {/* Contact, Email & Address */}\n                <div className=\"grid grid-cols-3 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">\n                      Contact Number <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"phone\"\n                      value={formData.phone}\n                      onChange={handleInputChange}\n                      placeholder=\"09xxxxxxxxx\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Email (Optional)</label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      value={formData.email}\n                      onChange={handleInputChange}\n                      placeholder=\"email@example.com\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Address (Optional)</label>\n                    <input\n                      type=\"text\"\n                      name=\"address\"\n                      value={formData.address}\n                      onChange={handleInputChange}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* SCHOOL INFORMATION SECTION */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-[#8B3A3A]\">\n                  School Information\n                </h3>\n\n                {/* Role */}\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-semibold mb-2\">\n                    Role / Classification <span className=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    name=\"role\"\n                    value={formData.role}\n                    onChange={handleInputChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                  >\n                    <option value=\"student\">student</option>\n                    <option value=\"teaching_staff\">teaching staff</option>\n                    <option value=\"non_teaching_staff\">non-teaching staff</option>\n                  </select>\n                </div>\n\n                {/* ID Number */}\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-semibold mb-2\">\n                    ID Number <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"idNumber\"\n                    value={formData.idNumber}\n                    onChange={handleInputChange}\n                    placeholder=\"Letters, numbers, and dash (-) only\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                  />\n                </div>\n\n                {/* STUDENT SPECIFIC FIELDS */}\n                {formData.role === \"student\" && (\n                  <div className=\"bg-blue-50 p-4 rounded-lg space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">\n                          Program <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          name=\"program\"\n                          value={formData.program}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        >\n                          <option value=\"\">Select Program</option>\n                          <option value=\"CICT\">CICT</option>\n                          <option value=\"CBME\">CBME</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">\n                          Course <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          name=\"course\"\n                          value={formData.course}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        >\n                          <option value=\"\">Select Course</option>\n                          {availableCourses.map((c) => (\n                            <option key={c} value={c}>\n                              {c}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">\n                          Year Level <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          name=\"yearLevel\"\n                          value={formData.yearLevel}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        >\n                          <option value=\"\">Select Year</option>\n                          <option value=\"1\">1st Year</option>\n                          <option value=\"2\">2nd Year</option>\n                          <option value=\"3\">3rd Year</option>\n                          <option value=\"4\">4th Year</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">\n                          Block <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          name=\"block\"\n                          value={formData.block}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        >\n                          <option value=\"\">Select Block</option>\n                          <option value=\"1\">Block 1</option>\n                          <option value=\"2\">Block 2</option>\n                          <option value=\"3\">Block 3</option>\n                          <option value=\"4\">Block 4</option>\n                          <option value=\"5\">Block 5</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* TEACHING STAFF SPECIFIC FIELDS */}\n                {formData.role === \"teaching_staff\" && (\n                  <div className=\"bg-green-50 p-4 rounded-lg\">\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-2\">\n                        Program <span className=\"text-red-500\">*</span>\n                      </label>\n                      <select\n                        name=\"department\"\n                        value={formData.department}\n                        onChange={handleInputChange}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                      >\n                        <option value=\"\">Select Program</option>\n                        <option value=\"CICT\">CICT</option>\n                        <option value=\"CBME\">CBME</option>\n                      </select>\n                    </div>\n                  </div>\n                )}\n\n                {/* NON-TEACHING STAFF SPECIFIC FIELDS */}\n                {formData.role === \"non_teaching_staff\" && (\n                  <div className=\"bg-yellow-50 p-4 rounded-lg\">\n                    <div>\n                      <label className=\"block text-sm font-semibold mb-2\">\n                        Category <span className=\"text-red-500\">*</span>\n                      </label>\n                      <select\n                        name=\"staffCategory\"\n                        value={formData.staffCategory}\n                        onChange={handleInputChange}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                      >\n                        <option value=\"\">Select Category</option>\n                        <option value=\"Administrative\">Administrative</option>\n                        <option value=\"Security\">Security</option>\n                        <option value=\"Maintenance\">Maintenance</option>\n                        <option value=\"Support\">Support</option>\n                        <option value=\"Clinic\">Clinic</option>\n                      </select>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* MEDICAL HISTORY SECTION */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-[#8B3A3A]\">\n                  Medical History\n                </h3>\n\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Past Illnesses</label>\n                    <textarea\n                      name=\"pastIllnesses\"\n                      value={formData.pastIllnesses}\n                      onChange={handleInputChange}\n                      placeholder=\"List any past illnesses...\"\n                      rows={3}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Surgeries</label>\n                    <textarea\n                      name=\"surgeries\"\n                      value={formData.surgeries}\n                      onChange={handleInputChange}\n                      placeholder=\"List any past surgeries...\"\n                      rows={3}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Current Medication</label>\n                    <textarea\n                      name=\"currentMedication\"\n                      value={formData.currentMedication}\n                      onChange={handleInputChange}\n                      placeholder=\"List current medications...\"\n                      rows={3}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold mb-2\">Allergies</label>\n                    <textarea\n                      name=\"allergies\"\n                      value={formData.allergies}\n                      onChange={handleInputChange}\n                      placeholder=\"List any allergies...\"\n                      rows={3}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-semibold mb-2\">Additional Notes</label>\n                  <textarea\n                    name=\"medicalNotes\"\n                    value={formData.medicalNotes}\n                    onChange={handleInputChange}\n                    placeholder=\"Any additional medical notes...\"\n                    rows={3}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                  />\n                </div>\n              </div>\n\n              {/* EMERGENCY CONTACTS SECTION */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-[#8B3A3A]\">\n                  Emergency Contacts\n                </h3>\n\n                {/* Primary Contact */}\n                <div className=\"mb-6\">\n                  <h4 className=\"text-md font-semibold text-gray-700 mb-3\">Primary Contact <span className=\"text-red-500\">*</span></h4>\n                  <div className=\"bg-red-50 p-4 rounded-lg space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Full Name <span className=\"text-red-500\">*</span></label>\n                        <input\n                          type=\"text\"\n                          name=\"primaryContactName\"\n                          value={formData.primaryContactName}\n                          onChange={handleInputChange}\n                          placeholder=\"Full name\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Relationship <span className=\"text-red-500\">*</span></label>\n                        <input\n                          type=\"text\"\n                          name=\"primaryContactRelationship\"\n                          value={formData.primaryContactRelationship}\n                          onChange={handleInputChange}\n                          placeholder=\"e.g., Parent, Spouse, Sibling\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Contact Number <span className=\"text-red-500\">*</span></label>\n                        <input\n                          type=\"text\"\n                          name=\"primaryContactPhone\"\n                          value={formData.primaryContactPhone}\n                          onChange={handleInputChange}\n                          placeholder=\"09xxxxxxxxx\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Address</label>\n                        <input\n                          type=\"text\"\n                          name=\"primaryContactAddress\"\n                          value={formData.primaryContactAddress}\n                          onChange={handleInputChange}\n                          placeholder=\"Address\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Secondary Contact */}\n                <div className=\"mb-6\">\n                  <h4 className=\"text-md font-semibold text-gray-700 mb-3\">Secondary Contact (Optional)</h4>\n                  <div className=\"bg-gray-50 p-4 rounded-lg space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Full Name</label>\n                        <input\n                          type=\"text\"\n                          name=\"secondaryContactName\"\n                          value={formData.secondaryContactName}\n                          onChange={handleInputChange}\n                          placeholder=\"Full name\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Relationship</label>\n                        <input\n                          type=\"text\"\n                          name=\"secondaryContactRelationship\"\n                          value={formData.secondaryContactRelationship}\n                          onChange={handleInputChange}\n                          placeholder=\"e.g., Parent, Spouse, Sibling\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Contact Number</label>\n                        <input\n                          type=\"text\"\n                          name=\"secondaryContactPhone\"\n                          value={formData.secondaryContactPhone}\n                          onChange={handleInputChange}\n                          placeholder=\"09xxxxxxxxx\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-semibold mb-2\">Address</label>\n                        <input\n                          type=\"text\"\n                          name=\"secondaryContactAddress\"\n                          value={formData.secondaryContactAddress}\n                          onChange={handleInputChange}\n                          placeholder=\"Address\"\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* FILE ATTACHMENT SECTION */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b-2 border-[#8B3A3A]\">\n                  File Attachments\n                </h3>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-semibold mb-2\">Upload Files</label>\n                  <input\n                    type=\"file\"\n                    multiple\n                    accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A]\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Accepted formats: PDF, DOC, DOCX, JPG, JPEG, PNG</p>\n                </div>\n              </div>\n\n              {/* Form Actions */}\n              <div className=\"flex gap-4 pt-4 border-t border-gray-200\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"bg-[#8B3A3A] text-white px-8 py-2 rounded-lg font-semibold hover:bg-[#6D2E2E] transition disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isSubmitting ? \"Saving...\" : editingId ? \"Update Patient\" : \"Add Patient\"}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleCancelEdit}\n                  className=\"bg-gray-200 text-gray-900 px-8 py-2 rounded-lg font-semibold hover:bg-gray-300 transition\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {/* Patient List */}\n        <div className=\"space-y-4\">\n          {isLoading ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500\">Loading patients...</p>\n            </div>\n          ) : filteredAndSortedPatients.length > 0 ? (\n            filteredAndSortedPatients.map((patient) => (\n              <div key={patient.id} className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-xl font-bold text-gray-800\">{getDisplayName(patient)}</h3>\n                    <div className=\"mt-3 space-y-1 text-sm text-gray-600\">\n                      <p><strong>ID:</strong> {patient.idNumber}</p>\n                      <p><strong>Phone:</strong> {patient.phone}</p>\n                      {patient.email && <p><strong>Email:</strong> {patient.email}</p>}\n                      {patient.role === \"student\" && patient.course && (\n                        <p><strong>Course:</strong> {getCourseDisplay(patient)}</p>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 ml-4\">\n                    {canEditPatients && (\n                      <>\n                        <button\n                          onClick={() => handleEditPatient(patient)}\n                          className=\"bg-[#8B3A3A] text-white px-4 py-2 rounded-lg font-semibold hover:bg-[#6D2E2E] flex items-center gap-2 transition\"\n                        >\n                          <Edit2 size={18} /> Edit\n                        </button>\n                        <button\n                          onClick={() => handleDeletePatient(patient.id)}\n                          className=\"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition\"\n                        >\n                          Delete\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500\">No patients found</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </LayoutWrapper>\n  )\n}\n"],"names":[],"mappings":"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"}