module.exports=[2488,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored["react-ssr"].ReactJsxRuntime},25767,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored["react-ssr"].React},92290,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored.contexts.AppRouterContext},98221,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored.contexts.HooksClientContext},84771,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},78119,(a,b,c)=>{"use strict";b.exports=a.r(18622)},69059,(a,b,c)=>{"use strict";b.exports=a.r(78119).vendored["react-ssr"].ReactServerDOMTurbopackClient},32267,a=>{"use strict";let b=(0,a.i(61237).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],32267)},23305,55814,a=>{"use strict";var b=a.i(61237);let c=(0,b.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],23305);let d=(0,b.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>d],55814)},4983,a=>{"use strict";var b=a.i(2488),c=a.i(25767),d=a.i(42089),e=a.i(23305),f=a.i(55814),g=a.i(61237);let h=(0,g.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i=(0,g.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var j=a.i(32267),k=a.i(86137);function l(){let[a,g]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("admin"),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!1),F=(0,k.useRouter)(),G=(0,c.useCallback)(async a=>{if(!a||a.length<3){q(null),m("");return}o(!0);try{let b=await fetch("/api/auth/check-username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a})});(await b.json()).available?(q(!0),m("")):(q(!1),m("Username is already taken"))}catch(a){console.error("Error checking username:",a),m("Error checking username availability")}finally{o(!1)}},[]),H=async b=>{b.preventDefault(),C([]),E(!0);let c=[];if(a.trim()?a.length<3?c.push("Username must be at least 3 characters"):/^[a-zA-Z0-9_-]+$/.test(a)?p||c.push("Username is not available"):c.push("Username can only contain letters, numbers, underscore, and dash"):c.push("Username is required"),r.trim()||c.push("Full name is required"),t.trim())t.includes("@")&&t.includes(".")||c.push("Email must contain @ symbol");else c.push("Email is required");if(v){let a,b=(a=[],v.length<8&&a.push("Password must be at least 8 characters"),/[A-Z]/.test(v)||a.push("Password must contain uppercase letter"),/[0-9]/.test(v)||a.push("Password must contain a number"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(v)||a.push("Password must contain special character"),{valid:0===a.length,errors:a});b.valid||c.push(...b.errors)}else c.push("Password is required");if(c.length>0){C(c),E(!1);return}try{let b=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,fullName:r,email:t,password:v,role:x})}),c=await b.json();if(!b.ok){C([c.error||"Signup failed"]),E(!1);return}F.push("/login")}catch(a){console.error("Signup error:",a),C(["An error occurred. Please try again."])}finally{E(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-green-50 to-blue-50 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 space-y-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#8B3A3A] mb-2",children:"Clinic Management"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Create your account"})]}),B.length>0&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,b.jsx)("ul",{className:"space-y-1",children:B.map((a,c)=>(0,b.jsxs)("li",{className:"text-red-700 text-sm",children:["• ",a]},c))})}),(0,b.jsxs)("form",{onSubmit:H,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Username"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:a,onChange:a=>{let b=a.target.value;if(g(b),b&&b.length<3)m("Username must be at least 3 characters"),q(null);else if(b&&!/^[a-zA-Z0-9_-]+$/.test(b))m("Username can only contain letters, numbers, underscore, and dash"),q(null);else{m("");let a=setTimeout(()=>{G(b)},500);return()=>clearTimeout(a)}},placeholder:"Choose a unique username",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 pr-10 ${l?"border-red-300 focus:ring-red-500":p?"border-green-300 focus:ring-green-500":"border-gray-300 focus:ring-[#8B3A3A]"}`}),n&&(0,b.jsx)("div",{className:"absolute right-4 top-3",children:(0,b.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-[#8B3A3A] border-t-transparent rounded-full"})}),!n&&p&&(0,b.jsx)(i,{className:"absolute right-4 top-3 text-green-500",size:20}),!n&&l&&(0,b.jsx)(j.X,{className:"absolute right-4 top-3 text-red-500",size:20})]}),l&&(0,b.jsx)("p",{className:"text-red-600 text-xs mt-1",children:l}),p&&(0,b.jsx)("p",{className:"text-green-600 text-xs mt-1",children:"✓ Username is available"}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"3+ characters, letters, numbers, underscore, dash only"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name"}),(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A] bg-gray-50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",value:t,onChange:a=>u(a.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A] bg-gray-50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:z?"text":"password",value:v,onChange:a=>w(a.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#8B3A3A] bg-gray-50"}),(0,b.jsx)("button",{type:"button",onClick:()=>A(!z),className:"absolute right-4 top-3 text-gray-400",children:z?(0,b.jsx)(f.EyeOff,{size:20}):(0,b.jsx)(e.Eye,{size:20})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"User Role"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:x,onChange:a=>y(a.target.value),className:"w-full px-4 py-3 border-2 border-[#8B3A3A] rounded-lg focus:outline-none appearance-none bg-white cursor-pointer",children:[(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"user",children:"User"})]}),(0,b.jsx)(h,{className:"absolute right-4 top-3 text-[#8B3A3A] pointer-events-none",size:20})]})]}),(0,b.jsx)("button",{type:"submit",disabled:D||!p,className:"w-full bg-[#8B3A3A] text-white py-3 rounded-lg font-semibold hover:bg-[#6D2E2E] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Creating Account...":"Create Account"})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(d.default,{href:"/login",className:"text-[#8B3A3A] hover:underline font-medium",children:"Already have an account? Login"})})]})})})}a.s(["default",()=>l],4983)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__68b5b290._.js.map